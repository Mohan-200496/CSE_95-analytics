<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Companies - Punjab Rozgar Portal</title>
    
    <!-- Punjab Rozgar Authentication -->
    <script src="../../js/auth.js"></script>
    
    <!-- Styles -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: #f5f7fa;
            color: #333;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1.5rem 0;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .header .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header .logo {
            font-size: 1.8rem;
            font-weight: 700;
            text-decoration: none;
            color: white;
        }

        .header .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .header .nav-links a {
            color: white;
            text-decoration: none;
            transition: opacity 0.3s ease;
        }

        .header .nav-links a:hover {
            opacity: 0.8;
        }

        .user-menu {
            position: relative;
        }

        .user-menu-toggle {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .main-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .page-header {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
            text-align: center;
        }

        .page-header h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .page-header p {
            color: #666;
            font-size: 1.1rem;
        }

        .search-filters {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }

        .search-bar {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .search-input {
            flex: 1;
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
        }

        .search-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
        }

        .search-btn:hover {
            background: #5a6fd8;
        }

        .filters {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .filter-group select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
        }

        .companies-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .company-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
        }

        .company-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
        }

        .company-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1.5rem;
            text-align: center;
        }

        .company-logo {
            width: 80px;
            height: 80px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            margin: 0 auto 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
        }

        .company-name {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .company-tagline {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .company-body {
            padding: 1.5rem;
        }

        .company-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 1rem;
            font-size: 0.9rem;
            color: #666;
        }

        .company-meta span {
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .company-description {
            color: #666;
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .company-stats {
            display: flex;
            justify-content: space-between;
            padding: 1rem 0;
            border-top: 1px solid #e1e5e9;
            font-size: 0.9rem;
        }

        .stat {
            text-align: center;
        }

        .stat-number {
            font-weight: 600;
            color: #667eea;
            font-size: 1.1rem;
        }

        .stat-label {
            color: #666;
            font-size: 0.8rem;
        }

        .company-actions {
            padding: 0 1.5rem 1.5rem;
            display: flex;
            gap: 0.5rem;
        }

        .btn {
            flex: 1;
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            text-decoration: none;
            text-align: center;
            transition: background 0.3s ease;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5a6fd8;
        }

        .btn-secondary {
            background: #f8f9fa;
            color: #667eea;
            border: 1px solid #667eea;
        }

        .btn-secondary:hover {
            background: #667eea;
            color: white;
        }

        .no-results {
            text-align: center;
            padding: 3rem;
            color: #666;
        }

        .no-results i {
            font-size: 3rem;
            color: #ddd;
            margin-bottom: 1rem;
        }

        .loading {
            text-align: center;
            padding: 3rem;
            color: #666;
        }

        .pagination {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 2rem;
        }

        .pagination button {
            padding: 0.5rem 1rem;
            border: 1px solid #ddd;
            background: white;
            cursor: pointer;
            border-radius: 6px;
        }

        .pagination button.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .pagination button:hover:not(.active) {
            background: #f8f9fa;
        }

        @media (max-width: 768px) {
            .header .nav-links {
                display: none;
            }

            .search-bar {
                flex-direction: column;
            }

            .filters {
                grid-template-columns: 1fr;
            }

            .companies-grid {
                grid-template-columns: 1fr;
            }

            .company-meta {
                flex-direction: column;
                gap: 0.5rem;
            }

            .company-actions {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <a href="../../index.html" class="logo">Punjab Rozgar</a>
            <nav>
                <ul class="nav-links">
                    <li><a href="../../index.html">Home</a></li>
                    <li><a href="../jobs/browse.html">Jobs</a></li>
                    <li><a href="list.html">Companies</a></li>
                </ul>
            </nav>
            <div class="user-menu">
                <button class="user-menu-toggle" onclick="toggleUserMenu()">
                    <i class="fas fa-user"></i>
                    <span data-user-name>Menu</span>
                    <i class="fas fa-chevron-down"></i>
                </button>
            </div>
        </div>
    </header>

    <div class="main-container">
        <!-- Page Header -->
        <div class="page-header">
            <h1>Browse Companies</h1>
            <p>Discover leading employers in Punjab and find your next career opportunity</p>
        </div>

        <!-- Search and Filters -->
        <div class="search-filters">
            <div class="search-bar">
                <input type="text" class="search-input" id="companySearch" placeholder="Search companies by name, industry, or location...">
                <button class="search-btn" onclick="searchCompanies()">
                    <i class="fas fa-search"></i> Search
                </button>
            </div>

            <div class="filters">
                <div class="filter-group">
                    <select id="industryFilter" onchange="filterCompanies()">
                        <option value="">All Industries</option>
                        <option value="technology">Technology</option>
                        <option value="healthcare">Healthcare</option>
                        <option value="finance">Finance</option>
                        <option value="education">Education</option>
                        <option value="manufacturing">Manufacturing</option>
                        <option value="retail">Retail</option>
                        <option value="government">Government</option>
                        <option value="construction">Construction</option>
                    </select>
                </div>

                <div class="filter-group">
                    <select id="locationFilter" onchange="filterCompanies()">
                        <option value="">All Locations</option>
                        <option value="chandigarh">Chandigarh</option>
                        <option value="ludhiana">Ludhiana</option>
                        <option value="amritsar">Amritsar</option>
                        <option value="mohali">Mohali</option>
                        <option value="jalandhar">Jalandhar</option>
                        <option value="patiala">Patiala</option>
                        <option value="bathinda">Bathinda</option>
                        <option value="firozpur">Firozpur</option>
                    </select>
                </div>

                <div class="filter-group">
                    <select id="sizeFilter" onchange="filterCompanies()">
                        <option value="">All Company Sizes</option>
                        <option value="startup">Startup (1-50)</option>
                        <option value="small">Small (51-200)</option>
                        <option value="medium">Medium (201-1000)</option>
                        <option value="large">Large (1000+)</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Companies Grid -->
        <div class="companies-grid" id="companiesGrid">
            <div class="loading">
                <i class="fas fa-spinner fa-spin"></i>
                <p>Loading companies...</p>
            </div>
        </div>

        <!-- Pagination -->
        <div class="pagination" id="pagination" style="display: none;">
            <!-- Pagination buttons will be added here -->
        </div>
    </div>

    <script>
        // Punjab Rozgar Companies Data
        const companies = [
            {
                id: 1,
                name: "Punjab Revenue Department",
                tagline: "Serving Punjab with Integrity",
                industry: "government",
                location: "chandigarh",
                size: "large",
                description: "Punjab Revenue Department is responsible for land records, revenue collection, and administrative services across Punjab state.",
                employees: 10000,
                openJobs: 25,
                founded: 1947,
                website: "https://punjabrevenue.nic.in",
                logo: "PRD"
            },
            {
                id: 2,
                name: "TechCorp Solutions",
                tagline: "Leading Innovation in Punjab",
                industry: "technology",
                location: "chandigarh",
                size: "medium",
                description: "Leading technology company providing software solutions, web development, and digital transformation services across Punjab.",
                employees: 750,
                openJobs: 12,
                founded: 2015,
                website: "https://techcorpsolutions.com",
                logo: "TCS"
            },
            {
                id: 3,
                name: "Punjab PWD",
                tagline: "Building Punjab's Future",
                industry: "government",
                location: "ludhiana",
                size: "large",
                description: "Punjab Public Works Department handles infrastructure development and maintenance across the state.",
                employees: 5000,
                openJobs: 18,
                founded: 1947,
                website: "https://pwdpunjab.gov.in",
                logo: "PWD"
            },
            {
                id: 4,
                name: "Fortis Hospital Mohali",
                tagline: "Excellence in Healthcare",
                industry: "healthcare",
                location: "mohali",
                size: "large",
                description: "Premier healthcare institution providing comprehensive medical services and advanced treatments across Punjab.",
                employees: 1500,
                openJobs: 20,
                founded: 2001,
                website: "https://fortishealthcare.com",
                logo: "FHM"
            },
            {
                id: 5,
                name: "Punjab National Bank",
                tagline: "The Name You Can Bank Upon",
                industry: "banking",
                location: "amritsar",
                size: "large",
                description: "One of India's leading public sector banks with extensive presence across Punjab and comprehensive banking services.",
                employees: 2000,
                openJobs: 10,
                founded: 1894,
                website: "https://pnbindia.in",
                logo: "PNB"
            },
            {
                id: 6,
                name: "Punjab Police",
                tagline: "With You, For You, Always",
                industry: "government",
                location: "amritsar",
                size: "large",
                description: "Punjab Police force dedicated to maintaining law and order and ensuring public safety across Punjab state.",
                employees: 8000,
                openJobs: 15,
                founded: 1947,
                website: "https://punjabpolice.gov.in",
                logo: "PP"
            },
            {
                id: 7,
                name: "Punjab University",
                tagline: "Pursuit of Excellence",
                industry: "education",
                location: "chandigarh",
                size: "large",
                description: "Premier educational institution offering undergraduate, postgraduate, and research programs in diverse fields.",
                employees: 3000,
                openJobs: 8,
                founded: 1882,
                website: "https://puchd.ac.in",
                logo: "PU"
            },
            {
                id: 8,
                name: "Punjab Manufacturing Ltd",
                tagline: "Quality Manufacturing Solutions",
                industry: "manufacturing",
                location: "ludhiana",
                size: "medium",
                description: "Leading manufacturing company specializing in industrial equipment and consumer goods for Punjab and beyond.",
                employees: 1200,
                openJobs: 14,
                founded: 1995,
                website: "https://punjabmanufacturing.com",
                logo: "PML"
            },
            {
                id: 9,
                name: "Tech Punjab Solutions",
                tagline: "Empowering Digital Transformation",
                industry: "technology",
                location: "mohali",
                size: "medium",
                description: "Innovative technology company focused on DevOps, cloud infrastructure, and automation solutions for enterprises.",
                employees: 450,
                openJobs: 9,
                founded: 2018,
                website: "https://techpunjab.com",
                logo: "TPS"
            },
            {
                id: 10,
                name: "Punjab Analytics",
                tagline: "Data-Driven Insights",
                industry: "technology",
                location: "chandigarh",
                size: "small",
                description: "Data science and analytics company providing business intelligence and machine learning solutions for Punjab businesses.",
                employees: 200,
                openJobs: 7,
                founded: 2020,
                website: "https://punjabanalytics.com",
                logo: "PA"
            },
            {
                id: 11,
                name: "Punjab Marketing Solutions",
                tagline: "Creative Marketing Excellence",
                industry: "marketing",
                location: "mohali",
                size: "medium",
                description: "Full-service marketing agency providing digital marketing, branding, and advertising solutions for Punjab businesses.",
                employees: 350,
                openJobs: 6,
                founded: 2012,
                website: "https://punjabmarketing.com",
                logo: "PMS"
            },
            {
                id: 12,
                name: "Punjab Finance Corp",
                tagline: "Your Financial Partner",
                industry: "banking",
                location: "chandigarh",
                size: "medium",
                description: "Leading financial services company offering investment, loan, and wealth management services across Punjab.",
                employees: 650,
                openJobs: 11,
                founded: 2010,
                website: "https://punjabfinance.com",
                logo: "PFC"
            },
            {
                id: 13,
                name: "Punjab Industries",
                tagline: "Industrial Excellence Since 1988",
                industry: "manufacturing",
                location: "amritsar",
                size: "medium",
                description: "Industrial manufacturing company producing quality products for domestic and international markets from Punjab.",
                employees: 800,
                openJobs: 13,
                founded: 1988,
                website: "https://punjabindustries.com",
                logo: "PI"
            },
            {
                id: 14,
                name: "Punjab Retail Chain",
                tagline: "Your Neighborhood Store",
                industry: "retail",
                location: "patiala",
                size: "large",
                description: "Major retail chain operating supermarkets and department stores across Punjab with focus on customer satisfaction.",
                employees: 1200,
                openJobs: 16,
                founded: 2005,
                website: "https://punjabretail.com",
                logo: "PRC"
            },
            {
                id: 15,
                name: "Punjab Shopping Center",
                tagline: "Shop, Dine, Enjoy",
                industry: "retail",
                location: "jalandhar",
                size: "medium",
                description: "Modern shopping center and retail complex offering diverse shopping and entertainment options for Punjab families.",
                employees: 550,
                openJobs: 8,
                founded: 2008,
                website: "https://punjabshopping.com",
                logo: "PSC"
            }
                industry: "healthcare",
                location: "lahore",
                size: "large",
                description: "One of Pakistan's premier healthcare institutions providing comprehensive medical services and training.",
                employees: 3000,
                openJobs: 22,
                founded: 1924,
                website: "https://lgh.edu.pk",
                logo: "LGH"
            },
            {
                id: 6,
                name: "Jazz (Mobilink)",
                tagline: "Pakistan Ka Superhit Network",
                industry: "technology",
                location: "islamabad",
                size: "large",
                description: "Pakistan's leading digital operator, connecting millions through mobile and digital services.",
                employees: 4500,
                openJobs: 15,
                founded: 1994,
                website: "https://jazz.com.pk",
                logo: "JZ"
            },
            {
                id: 7,
                name: "Innovative Systems",
                tagline: "Creative Web Solutions",
                industry: "technology",
                location: "lahore",
                size: "small",
                description: "Boutique web development agency specializing in custom websites and e-commerce solutions.",
                employees: 85,
                openJobs: 6,
                founded: 2018,
                website: "https://innovativesys.pk",
                logo: "IS"
            },
            {
                id: 8,
                name: "University of Punjab",
                tagline: "Knowledge, Wisdom, Service",
                industry: "education",
                location: "lahore",
                size: "large",
                description: "Pakistan's oldest and most prestigious university, offering quality education and research opportunities.",
                employees: 5000,
                openJobs: 8,
                founded: 1882,
                website: "https://pu.edu.pk",
                logo: "PU"
            }
        ];

        let filteredCompanies = [...companies];
        let currentPage = 1;
        const companiesPerPage = 6;

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Update user menu if logged in
            const user = authManager.getCurrentUser();
            if (user) {
                document.querySelector('[data-user-name]').textContent = user.name;
            }

            // Load companies
            setTimeout(() => {
                renderCompanies();
            }, 1000); // Simulate loading delay
        });

        function searchCompanies() {
            const searchTerm = document.getElementById('companySearch').value.toLowerCase();
            filteredCompanies = companies.filter(company => 
                company.name.toLowerCase().includes(searchTerm) ||
                company.industry.toLowerCase().includes(searchTerm) ||
                company.location.toLowerCase().includes(searchTerm) ||
                company.description.toLowerCase().includes(searchTerm)
            );
            currentPage = 1;
            renderCompanies();
        }

        function filterCompanies() {
            const industry = document.getElementById('industryFilter').value;
            const location = document.getElementById('locationFilter').value;
            const size = document.getElementById('sizeFilter').value;
            const searchTerm = document.getElementById('companySearch').value.toLowerCase();

            filteredCompanies = companies.filter(company => {
                const matchesSearch = !searchTerm || 
                    company.name.toLowerCase().includes(searchTerm) ||
                    company.industry.toLowerCase().includes(searchTerm) ||
                    company.location.toLowerCase().includes(searchTerm) ||
                    company.description.toLowerCase().includes(searchTerm);
                
                const matchesIndustry = !industry || company.industry === industry;
                const matchesLocation = !location || company.location === location;
                const matchesSize = !size || company.size === size;

                return matchesSearch && matchesIndustry && matchesLocation && matchesSize;
            });

            currentPage = 1;
            renderCompanies();
        }

        function renderCompanies() {
            const grid = document.getElementById('companiesGrid');
            const startIndex = (currentPage - 1) * companiesPerPage;
            const endIndex = startIndex + companiesPerPage;
            const pageCompanies = filteredCompanies.slice(startIndex, endIndex);

            if (pageCompanies.length === 0) {
                grid.innerHTML = `
                    <div class="no-results">
                        <i class="fas fa-building"></i>
                        <h3>No companies found</h3>
                        <p>Try adjusting your search criteria or filters</p>
                    </div>
                `;
                document.getElementById('pagination').style.display = 'none';
                return;
            }

            grid.innerHTML = pageCompanies.map(company => `
                <div class="company-card" onclick="viewCompany(${company.id})">
                    <div class="company-header">
                        <div class="company-logo">${company.logo}</div>
                        <div class="company-name">${company.name}</div>
                        <div class="company-tagline">${company.tagline}</div>
                    </div>
                    <div class="company-body">
                        <div class="company-meta">
                            <span><i class="fas fa-industry"></i> ${capitalizeFirst(company.industry)}</span>
                            <span><i class="fas fa-map-marker-alt"></i> ${capitalizeFirst(company.location)}</span>
                            <span><i class="fas fa-users"></i> ${company.employees.toLocaleString()} employees</span>
                        </div>
                        <div class="company-description">${company.description}</div>
                        <div class="company-stats">
                            <div class="stat">
                                <div class="stat-number">${company.openJobs}</div>
                                <div class="stat-label">Open Jobs</div>
                            </div>
                            <div class="stat">
                                <div class="stat-number">${new Date().getFullYear() - company.founded}</div>
                                <div class="stat-label">Years</div>
                            </div>
                            <div class="stat">
                                <div class="stat-number">${capitalizeFirst(company.size)}</div>
                                <div class="stat-label">Size</div>
                            </div>
                        </div>
                    </div>
                    <div class="company-actions">
                        <a href="../jobs/browse.html?company=${company.id}" class="btn btn-primary">View Jobs</a>
                        <a href="company-profile.html?id=${company.id}" class="btn btn-secondary">Company Profile</a>
                    </div>
                </div>
            `).join('');

            renderPagination();
        }

        function renderPagination() {
            const totalPages = Math.ceil(filteredCompanies.length / companiesPerPage);
            const pagination = document.getElementById('pagination');

            if (totalPages <= 1) {
                pagination.style.display = 'none';
                return;
            }

            pagination.style.display = 'flex';
            let paginationHTML = '';

            // Previous button
            if (currentPage > 1) {
                paginationHTML += `<button onclick="changePage(${currentPage - 1})">Previous</button>`;
            }

            // Page numbers
            for (let i = 1; i <= totalPages; i++) {
                if (i === currentPage) {
                    paginationHTML += `<button class="active">${i}</button>`;
                } else {
                    paginationHTML += `<button onclick="changePage(${i})">${i}</button>`;
                }
            }

            // Next button
            if (currentPage < totalPages) {
                paginationHTML += `<button onclick="changePage(${currentPage + 1})">Next</button>`;
            }

            pagination.innerHTML = paginationHTML;
        }

        function changePage(page) {
            currentPage = page;
            renderCompanies();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function viewCompany(companyId) {
            // In a real app, this would navigate to a detailed company page
            window.location.href = `company-profile.html?id=${companyId}`;
        }

        function capitalizeFirst(str) {
            return str.charAt(0).toUpperCase() + str.slice(1);
        }

        function toggleUserMenu() {
            const user = authManager.getCurrentUser();
            if (user) {
                // Show user menu (could be implemented as a dropdown)
                const userRole = user.role;
                if (userRole === 'admin') {
                    window.location.href = '../admin/dashboard.html';
                } else if (userRole === 'employer') {
                    window.location.href = '../employer/dashboard.html';
                } else {
                    window.location.href = '../jobseeker/dashboard.html';
                }
            } else {
                window.location.href = '../auth/login.html';
            }
        }

        // Search on Enter key
        document.getElementById('companySearch').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchCompanies();
            }
        });
    </script>
</body>
</html>